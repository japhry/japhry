/* jobcard_print.css - Styles specifically for printing the job card */
body {
    font-family: 'Roboto', sans-serif; /* Using Roboto as specified in screen, ensure webfont or fallback */
    margin: 0;
    padding: 0;
    color: #000 !important;
    background-color: #fff !important;
    -webkit-print-color-adjust: exact;
    print-color-adjust: exact;
    font-size: 9pt; /* Base font size for print */
}

@page {
    size: A4;
    margin: 15mm;
}

.invoice-container {
    width: 100%;
    margin: 0;
    padding: 0;
    border: none;
    box-shadow: none;
    border-radius: 0;
    background: white !important;
    animation: none; /* Remove animation */
    transform: none; /* Reset transform */
}

/* Hide elements not meant for print */
.no-print { display: none !important; }
.corner-decoration { display: none !important; } /* Decorative element not needed for print */
.security-stamp { /* Make it less obtrusive or remove if not essential print info */
    border: 1px solid #000;
    color: #000 !important;
    background: #eee !important; /* Light gray, ensure it prints */
    transform: rotate(0deg); /* Straighten for print */
    box-shadow: none !important;
    padding: 5px 10px;
    font-size: 10pt;
}


/* Header */
.invoice-header {
    background: #eee !important; /* Light gray header */
    color: #000 !important;
    padding: 10mm 10mm 5mm 10mm;
    border-bottom: 2px solid #000;
    display: flex;
    justify-content: space-between;
    align-items: center;
}
.header-overlay { display: none !important; } /* Remove SVG overlay for print */

.company-info h1 {
    font-family: 'Montserrat', sans-serif;
    font-size: 18pt; /* Adjust for print */
    font-weight: 700;
    margin-bottom: 2mm;
    text-shadow: none;
}
.company-info div {
    font-size: 9pt;
    opacity: 1;
}
.company-logo {
    border: 1px solid #ccc; /* Simple border for logo placeholder */
    box-shadow: none;
    /* SVG fill color will be handled by its own attributes or a specific print rule if needed */
}
.company-logo svg {
    fill: #000 !important; /* Ensure logo prints in black if it was colored */
}

.document-type {
    background: #ddd !important; /* Simple background */
    color: #000 !important;
    padding: 2mm 4mm;
    border-radius: 5px;
    font-weight: bold;
    font-size: 10pt;
    box-shadow: none;
    border: 1px solid #000;
}

/* Watermark */
.watermark {
    position: fixed; /* Use fixed if it must overlay every page; otherwise absolute for first page. */
    /* For true multi-page fixed watermark, browser support can be tricky. Often requires JS or server-side PDF generation for perfection. */
    /* For CSS only, 'absolute' might be better if it's just for page 1 aesthetic. */
    /* Let's assume it should try to be on every page, though CSS 'fixed' for print is not always reliable. */
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%) rotate(-30deg);
    font-size: 60pt; /* Adjust for print */
    color: rgba(0,0,0,0.05) !important; /* Very light gray */
    font-weight: bold;
    pointer-events: none;
    white-space: nowrap;
    z-index: -1000; /* Ensure it's far behind */
    font-family: 'Montserrat', sans-serif;
}

/* Body */
.invoice-body {
    padding: 5mm 10mm;
    background: none !important; /* Remove pattern background for print */
    z-index: 1;
}

.invoice-details {
    grid-template-columns: 1fr 1fr; /* Maintain two columns */
    gap: 5mm;
    margin-bottom: 5mm;
}

.detail-box {
    border: 1px solid #666;
    border-radius: 0; /* Simpler boxes for print */
    padding: 4mm;
    background: #fff !important;
    box-shadow: none;
}
.detail-box:before { /* Simplify or remove colored side border */
    background: #000;
    width: 2px;
}
.detail-box h3 {
    font-size: 10pt;
    color: #000 !important;
    margin-bottom: 3mm;
}
.detail-box h3 svg { fill: #000 !important; }

.invoice-grid label { font-size: 8pt; color: #333 !important; }
.invoice-grid span { font-size: 9pt; color: #000 !important; }

.highlight-info {
    background: #f0f0f0 !important; /* Light gray background */
    border-left: 2px solid #000;
    padding: 2mm 3mm;
    margin: 5mm 0;
    font-size: 8pt;
    border-radius: 0;
}
.highlight-info strong { color: #000 !important; }

/* Items Table */
.items-table {
    margin: 5mm 0;
    box-shadow: none;
    border-radius: 0;
    border-top: 1px solid #000; /* Add a top border for the table */
}
.items-table th {
    background: #e0e0e0 !important; /* Solid light gray */
    padding: 2.5mm;
    font-size: 9pt;
    color: #000 !important;
    border: 1px solid #333; /* Ensure all borders are visible */
}
.items-table td {
    padding: 2.5mm;
    border: 1px solid #333; /* Ensure all borders are visible */
    font-size: 9pt;
    background-color: #fff !important; /* Remove striping for print simplicity */
}
.items-table tr:hover { background-color: transparent !important; } /* No hover effect for print */

.items-table .qty, .items-table .price, .items-table .total { text-align: right; }

/* Total Section */
.total-section { margin-bottom: 5mm; }
.total-box {
    width: auto; /* Allow it to be full width or defined by content */
    min-width: 60mm; /* Minimum width */
    float: right; /* Align to right */
    background: #fff !important;
    border: 1px solid #000;
    border-radius: 0;
    box-shadow: none;
    clear: both;
}
.total-row { padding: 2.5mm 4mm; border-bottom: 1px solid #666; }
.total-label { font-size: 9pt; }
.total-value { font-size: 9pt; font-weight: bold; }
.total-row.highlight {
    background: #e0e0e0 !important;
    font-weight: bold;
    color: #000 !important;
}
.total-row.highlight .total-label, .total-row.highlight .total-value {
    color: #000 !important;
}


/* Footer */
.invoice-footer {
    padding: 5mm 10mm;
    background: #f0f0f0 !important; /* Light gray footer background */
    border-top: 1px solid #000;
}
.verification-code {
    font-size: 8pt;
    background: #fff !important;
    padding: 1.5mm 3mm;
    border: 1px solid #666;
    box-shadow: none;
    letter-spacing: normal;
}
.verification-link {
    color: #000 !important; /* Links in black for print */
    font-size: 8pt;
    text-decoration: underline; /* Underline links for print */
}
.verification-link:hover { transform: none; }
.verification-link svg { display: none; } /* Hide SVG icon in link for print */

/* QR Codes */
#qrcode-top, #qrcode-bottom {
    border: 1px solid #000;
    padding: 1mm; /* Minimal padding */
    background-color: #fff !important; /* Ensure white background for QR code */
    box-shadow: none;
}
#qrcode-top img, #qrcode-bottom img { /* Assuming qrcode.js generates an img or canvas */
    display: block;
    margin: auto;
}

/* Microprint */
.microprint {
    font-size: 5pt !important; /* Very small for print */
    color: #333 !important; /* Dark gray, not too light */
    letter-spacing: normal;
    line-height: 1.2;
    margin-top: 5mm;
}

/* Signature Area */
.signature-area {
    margin-top: 7mm;
    padding-top: 4mm;
    border-top: 1px dashed #666;
}
.signature-box { width: 48%; } /* Adjust if needed */
.signature-line { margin: 10mm 0 2mm; background: #666; }
.signature-line:after { display: none; } /* Remove dotted effect for print simplicity */
.signature-label { font-size: 8pt; color: #000 !important; }

/* Barcode */
.barcode {
    font-family: 'Libre Barcode 39', cursive;
    font-size: 28pt; /* Adjust for print readability */
    letter-spacing: normal; /* Default spacing might be better for some barcode fonts */
    margin-top: 3mm;
    padding: 2mm 0;
    background: #fff !important; /* White background */
    border-radius: 0;
    color: #000 !important;
    border: 1px solid #ccc; /* Optional light border around barcode */
}

/* Payment Info */
.payment-info {
    background: #f0f0f0 !important; /* Light gray */
    border: 1px solid #666;
    border-radius: 0;
    padding: 3mm 4mm;
    margin: 5mm 0;
    font-size: 8pt;
}
.payment-info svg { display: none; } /* Hide icon for print */
.payment-info strong { color: #000 !important; font-weight: bold; }

/* Footer Note */
.footer-note {
    font-size: 8pt;
    color: #000 !important;
    margin-top: 5mm;
    padding: 2mm;
    background: #f9f9f9 !important; /* Very light gray */
    border-radius: 0;
    border: 1px solid #ccc;
}

/* General overrides for print */
* {
    box-shadow: none !important;
    text-shadow: none !important;
    transition: none !important; /* No transitions */
}
a, a:visited {
    color: #000 !important; /* Ensure all links are black */
    text-decoration: underline;
}

/* Ensure specific text colors are black for print */
.company-info div, .detail-box h3, .invoice-grid label, .invoice-grid span,
.items-table th, .items-table td, .total-label, .total-value,
.verification-link, .signature-label, .barcode, .payment-info, .footer-note {
    color: #000 !important;
}

/* Ensure specific background colors are simple or white */
.invoice-header, .document-type, .detail-box, .highlight-info, .items-table th,
.total-box, .total-row.highlight, .invoice-footer, .payment-info, .footer-note,
.barcode-area /* if you create one */ {
    background-color: #fff !important; /* Default to white */
}
/* More specific light grays for differentiation where needed */
.invoice-header { background-color: #f0f0f0 !important; }
.items-table th { background-color: #e0e0e0 !important; }
.total-row.highlight { background-color: #e8e8e8 !important; }
.invoice-footer { background-color: #f5f5f5 !important; }
.payment-info { background-color: #f9f9f9 !important; }
.footer-note { background-color: #f9f9f9 !important; }
.document-type { background-color: #ddd !important; }

/* Simplify borders for print */
.detail-box, .items-table, .items-table th, .items-table td, .total-box, .total-row, .invoice-footer, .payment-info, .footer-note, .verification-code, .security-stamp {
    border-color: #666 !important; /* Darker gray for borders */
}
.invoice-header { border-bottom-color: #000 !important; }
.detail-box:before { background-color: #000 !important; }
.highlight-info { border-left-color: #000 !important; }
.items-table th { border-bottom-width: 1px !important; } /* Thinner bottom border for table headers */

/* Table cell padding */
.items-table th, .items-table td, .total-row {
    padding: 1.5mm 2mm; /* Reduce padding slightly for print */
}

/* Ensure QR codes are not affected by general img rules if any */
#qrcode-top img, #qrcode-bottom img {
    border: none !important; /* Remove any borders from QR code images themselves */
    max-width: 100% !important; /* Ensure they fit */
}

/* Ensure Libre Barcode 39 font is used if available, otherwise it will be system default */
.barcode {
  font-family: 'Libre Barcode 39', cursive, sans-serif; /* Add sans-serif as ultimate fallback */
}

/* Ensure Montserrat and Roboto fonts are used if available */
body, .company-info h1, .watermark, .items-table th {
    font-family: 'Roboto', 'Montserrat', sans-serif; /* Prioritize Roboto/Montserrat, then generic sans-serif */
}

/* Final check for any lingering colors or complex backgrounds */
.company-logo, .security-features div { /* e.g. #qrcode-top */
    background-color: #fff !important; /* Ensure white background for these elements */
}
.company-logo svg path {
    fill: #000000 !important; /* Make sure SVG paths are black */
}
